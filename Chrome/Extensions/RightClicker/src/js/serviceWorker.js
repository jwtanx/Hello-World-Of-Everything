import{a as n,s as o}from"./getDomainFromUrl.js";var s=(t=>(t.Empty="empty",t))(s||{});const i=async t=>t,r="/assets/128on-0df0fd44.png",m="/assets/128off-bf9570e2.png";chrome.runtime.onMessage.addListener(async({action:t,data:a})=>{switch(t){case s.Empty:{await i(a);break}}return!0});chrome.tabs.onUpdated.addListener(async t=>{const[{url:a}]=await chrome.tabs.query({active:!0}),e=n(a);await c(e,t)});chrome.storage.local.onChanged.addListener(async()=>{const[{url:t,id:a}]=await chrome.tabs.query({active:!0}),e=n(t);await c(e,a)});const c=async(t,a)=>{await o.service.getIsActive(t)?await chrome.action.setIcon({tabId:a,path:r}):await chrome.action.setIcon({tabId:a,path:m})};
